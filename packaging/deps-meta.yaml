# Metadata for CI dependency scripts and workflow validation.
scripts:
  scripts/ci/install-linux-packages.sh:
    requires_flags: [--distro-family, --distro, --version]
    requires_env: [VARIANT, ENABLE_LDAP, ENABLE_SNMP]
    accepts:
      distro_family: [linux_github]
      distro: [ubuntu]
      version: [latest]

  scripts/ci/install-bsd-packages.sh:
    requires_env: [VARIANT, ENABLE_LDAP, ENABLE_SNMP]

  scripts/ci/packages-linux.sh:
    accepts:
      distro_family: [linux_github]
      distro: [ubuntu]
      version: [latest]

  scripts/ci/packages-bsd.sh:
    accepts:
      pkgmgr: [pkg, pkg_add, pkgin]

workflows:
  enforce:
    when_script_used:
      scripts/ci/install-linux-packages.sh:
        must_set_env: [VARIANT, ENABLE_LDAP, ENABLE_SNMP]
        must_pass_flags: [--distro-family, --distro, --version]
      scripts/ci/install-bsd-packages.sh:
        must_set_env: [VARIANT, ENABLE_LDAP, ENABLE_SNMP]
